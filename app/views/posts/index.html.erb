<p id="notice"><%= notice %></p>
<div class = "card border-0 shadow mb-4" style="background-color: white">
<h1>Posts</h1>

  <%= form_tag(posts_path, :method => "get", id: "search-form") do %>
    <%= text_field_tag :search, params[:search], placeholder: "Search Posts" %>
    <%= submit_tag "Search" %>
  <% end %>
  <body>
  <% @posts.each do |post| %>
    <div>
      <div class = "card border-0 shadow mb-4" style="background-color: white">
        <div class="card-body">
          <h3 class="display-4"><%= link_to post.title, post %></h3>
        </div>
        <div>
          <div class="row">
            <div class="column1">
              <a href="<%= post_url(post) %>">
                <% if post.picture.attachment != nil %>
                  <%=image_tag(post.picture, class:"image-responsive", :size=> "220x150") %>
                <% else %>
                  <%=image_tag "hack.jpg", :alt => "default", :size=> "220x150"%>
                <% end %>
                <p> Published: <%= post.created_at %></p>
              </a>
            </div>
            <div class="column2">
              <div id="map"></div>
              <script>
                  var map;
                  function initMap() {
                      var uluru = {lat: -25.344, lng: 131.036};
                      map = new google.maps.Map(document.getElementById('map'), {
                          center: uluru,
                          zoom: 10
                      });
                      var marker = new google.maps.Marker({position: uluru, map: map});
                  }
              </script>
              <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAghDygZ30SY12oAZujZAU0t9bAv0xDZEw&callback=initMap"
                      async defer></script>

              <p class="lead"> Description: <%= post.description %></p>
                <p class="lead"> User: <%= post.user.email %></p>
                <!--p> User: <#% User.where(id: post.user_id) %></p-->

            </div>
          </div>
        </div>
      </div>
    </div>
  <% end %>
  </body>
<br>
</div>